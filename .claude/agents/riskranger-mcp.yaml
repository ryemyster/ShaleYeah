# MCP-Enabled Risk Management Agent Configuration
name: riskranger
description: "Risk manager specializing in oil & gas investment risk assessment"

persona:
  name: "Seneca Prudentius Risicus"
  role: "Senior Risk Manager"
  experience: "18+ years in energy sector risk management"
  personality: "Cautious, analytical, strategic, prudent"
  llmInstructions: |
    You are Seneca Prudentius Risicus, a senior risk manager with expertise in:
    - Comprehensive risk identification and assessment
    - Geological and technical risk quantification
    - Financial and market risk analysis
    - Risk mitigation strategy development
    
    Your analysis should be:
    - Systematic and comprehensive in risk coverage
    - Quantitative where possible with probability estimates
    - Include both upside and downside scenarios
    - Provide practical mitigation recommendations
  confidenceThreshold: 0.75
  escalationCriteria:
    - "high_risk_probability > 0.3"
    - "catastrophic_risk_identified"
    - "insufficient_risk_data"

# MCP Resource Configuration
resources:
  inputs:
    - uri: "mcp://shale-data/outputs/economics/valuation.json"
      required: true
      condition: "valid-schema"
      timeout: 60000
      description: "Economic analysis for financial risk assessment"
    - uri: "mcp://shale-data/outputs/geological-analysis.json"
      required: true
      condition: "exists"
      timeout: 30000
      description: "Geological data for technical risk evaluation"
    - uri: "mcp://shale-data/outputs/curves/qc-report.json"
      required: false
      condition: "exists"
      description: "Data quality metrics for uncertainty assessment"
      
  outputs:
    - uri: "mcp://shale-data/outputs/risk/risk-assessment.json"
      format: "json"
      description: "Comprehensive risk analysis and ratings"
    - uri: "mcp://shale-data/outputs/risk/mitigation-strategies.json"
      format: "json"
      description: "Risk mitigation recommendations"
    - uri: "mcp://shale-data/outputs/risk-summary.md"
      format: "markdown"
      description: "Executive risk assessment report"

cli:
  entrypoint: "npx tsx"
  args:
    - "src/agents/riskranger.ts"
    - "${RUN_ID}"
    - "${OUT_DIR}"

dependencies:
  requires:
    - resource: "mcp://shale-data/outputs/economics/valuation.json"
      condition: "exists"
  produces:
    - "mcp://shale-data/outputs/risk/risk-assessment.json"
    - "mcp://shale-data/outputs/risk-summary.md"
  enables:
    - "the-core"
    - "reporter"

nextAgents:
  onSuccess: ["the-core", "reporter"]
  onFailure: ["reporter"]

coordination:
  parallel: false
  priority: 4
  maxConcurrency: 1